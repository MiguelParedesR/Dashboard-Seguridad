<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lockers - Administracion</title>
  <link rel="stylesheet" href="../../css/actividades-cctv/lockers.css" />
  <script src="../../config.js"></script>
  <script type="module" src="../../js/estilos-sidebar/sidebar-loader.js"></script>
</head>

<body>
  <main id="main-content" class="lockers-view" data-lockers-view>
    <div class="lockers-shell">
      <header class="lockers-hero">
        <div class="hero-left">

          <h1 class="lockers-title">Lockers</h1>
          <div class="hero-meta" role="group" aria-label="Estados de lockers">
            <button class="hero-chip is-active" type="button" data-estado="ALL" aria-pressed="true">
              Total <span id="lockerTotalCount">--</span>
            </button>
            <button class="hero-chip" type="button" data-estado="OCUPADO" aria-pressed="false">
              Asignados <span id="lockerAssignedCount">--</span>
            </button>
            <button class="hero-chip" type="button" data-estado="LIBRE" aria-pressed="false">
              Libres <span id="lockerFreeCount">--</span>
            </button>
            <button class="hero-chip" type="button" data-estado="SE_DESCONOCE" aria-pressed="false">
              Se desconoce <span id="lockerUnknownCount">--</span>
            </button>
            <button class="hero-chip" type="button" data-estado="MANTENIMIENTO" aria-pressed="false">
              Mantenimiento <span id="lockerMaintenanceCount">--</span>
            </button>
          </div>
        </div>
        <div class="hero-actions">
          <div class="search-block">
            <label class="search-field">
              <span><i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i></span>
              <input id="lockerSearch" type="search" placeholder="Buscar por codigo o nombre" autocomplete="off" aria-label="Buscar lockers" />
            </label>
          </div>
        </div>
      </header>

      <section class="lockers-body">
        <section class="lockers-map">
          <div class="local-nav" aria-label="Locales">
            <div class="local-nav-header">
              <div>
                <p class="hero-kicker">Locales</p>
                <div class="local-title">Local activo <span id="lockerLocalLabel">--</span></div>
              </div>
              <div class="local-tabs" id="lockerLocalTabs" role="tablist" aria-label="Lista de locales"></div>
            </div>
          </div>

          <div class="view-switcher">
            <span class="view-switcher-label">Vista</span>
            <div class="view-tabs" id="lockerViewTabs" role="group" aria-label="Seleccion de vista">
              <button class="view-tab is-active" type="button" data-view="assignments" aria-pressed="true">Asignaciones</button>
              <button class="view-tab" type="button" data-view="states" aria-pressed="false">Estados</button>
            </div>
          </div>

          <section class="assignment-board" id="lockerAssignmentBoard" aria-label="Asignaciones por area">
            <div class="area-header">
              <div>
                <h2 class="area-title">Asignaciones por area</h2>
              </div>
            </div>
            <div class="area-list-view" id="lockerAreaListView"></div>
          </section>

          <section class="state-board" id="lockerStateBoard" aria-label="Vista por estados">
            <div class="map-header">
              <div class="map-title">Vista por estados <span class="map-count" id="lockerMapCount">--</span></div>
              <div class="map-hint">Desliza horizontalmente</div>
            </div>
            <div class="map-scroll">
              <div id="lockerStatusColumns" class="status-columns" role="list"></div>
            </div>
          </section>
        </section>

        <aside class="locker-detail-panel" id="lockerDetailPanel" aria-hidden="true">
          <div class="panel-card">
            <div class="panel-header">
              <div>
                <h2 id="lockerPanelTitle">Detalle del locker</h2>
                <p id="lockerSelectedHint">Selecciona un locker del mapa.</p>
              </div>
              <button class="panel-close" id="lockerPanelClose" type="button" aria-label="Cerrar panel">
                <i class="fa-solid fa-xmark" aria-hidden="true"></i>
              </button>
            </div>

            <div class="panel-hero">
              <div class="panel-code">
                <span>Codigo</span>
                <strong id="lockerSelectedCode">--</strong>
              </div>
              <div class="panel-state">
                <span>Estado actual</span>
                <div class="selected-state" id="lockerSelectedStateBadge">
                  <span class="selected-state-indicator"></span>
                  <span class="selected-state-label" id="lockerSelectedStateLabel">Sin seleccion</span>
                </div>
              </div>
            </div>

            <div class="form-grid">
              <div class="field field-local">
                <label for="lockerLocal">Local</label>
                <select id="lockerLocal"></select>
              </div>
              <div class="field field-group">
                <label for="lockerGroup">Area</label>
                <select id="lockerGroup"></select>
              </div>
              <div class="field field-name">
                <label for="lockerName">Colaborador</label>
                <input id="lockerName" type="text" placeholder="Nombre del colaborador" />
              </div>
              <div class="field field-date">
                <label for="lockerDate">Fecha de asignacion</label>
                <input id="lockerDate" type="date" />
              </div>
              <div class="field field-toggle">
                <label class="toggle-label" for="lockerHasPadlock">
                  <input id="lockerHasPadlock" type="checkbox" />
                  <span>Cuenta con candado asignado</span>
                </label>
              </div>
              <div class="field field-toggle">
                <label class="toggle-label" for="lockerHasDuplicateKey">
                  <input id="lockerHasDuplicateKey" type="checkbox" />
                  <span>Cuenta con duplicado de llave</span>
                </label>
              </div>
            </div>

            <div class="panel-actions">
              <button class="btn" id="lockerAssignBtn" type="button">Asignar</button>
              <button class="btn ghost" id="lockerReleaseBtn" type="button">Liberar</button>
              <button class="btn ghost" id="lockerBlockBtn" type="button">Bloquear</button>
            </div>

          </div>
        </aside>
      </section>
    </div>

    <div class="panel-backdrop" id="lockerPanelBackdrop" aria-hidden="true"></div>
    <div class="locker-toast" id="lockerToast" role="status" aria-live="polite"></div>
    <div class="locker-quick-menu" id="lockerQuickMenu" role="menu" aria-hidden="true">
      <button type="button" class="quick-action" id="lockerQuickAssign" role="menuitem">Asignar</button>
      <button type="button" class="quick-action" id="lockerQuickRelease" role="menuitem">Liberar</button>
      <button type="button" class="quick-action" id="lockerQuickBlock" role="menuitem">Bloquear</button>
    </div>
  </main>

  <script src="../../js/actividades-cctv/lockers.js"></script>
</body>

</html>
