<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>RouteCheck - Control de Ruta</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">

  <div class="max-w-3xl mx-auto p-6 mt-6 bg-white shadow rounded">
    <h1 class="text-2xl font-bold mb-4">RouteCheck – Panel del Resguardo</h1>

    <!-- Instrucción -->
    <div>
      <label class="block font-semibold mb-1">Enviar instrucción al conductor:</label>
      <input id="instructionInput" class="border p-2 w-full rounded" placeholder="Ej: Doble en Av. Carlos Izaguirre">
      <button onclick="sendInstruction()" class="mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
        Enviar
      </button>
    </div>

    <!-- Historial -->
    <h2 class="text-xl font-bold mt-8 mb-2">Historial de instrucciones</h2>
    <ul id="historyList" class="space-y-2"></ul>
  </div>

  <script>
    function sendInstruction() {
      const text = document.getElementById("instructionInput").value.trim();
      if (!text) return;

      const entry = {
        text,
        timestamp: new Date().toLocaleString()
      };

      // Guardar en localStorage
      let history = JSON.parse(localStorage.getItem("routeHistory")) || [];
      history.push(entry);
      localStorage.setItem("routeHistory", JSON.stringify(history));

      // Mostrar
      renderHistory();
      document.getElementById("instructionInput").value = "";
    }

    function renderHistory() {
      const historyList = document.getElementById("historyList");
      historyList.innerHTML = "";

      const history = JSON.parse(localStorage.getItem("routeHistory")) || [];
      history.forEach(h => {
        const li = document.createElement("li");
        li.className = "p-3 bg-gray-200 rounded";
        li.textContent = `${h.timestamp} – ${h.text}`;
        historyList.appendChild(li);
      });
    }

    renderHistory();
  </script>

</body>

</html>